(window.webpackJsonpweather=window.webpackJsonpweather||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=(a(91),a(26)),s=a(27),l=a(31),u=a(28),m=a(32),h=a(29),p=a(18),d=a(33),E=a(15),f=a(140),g=a(150),v=a(139),b=a(148),w=a(141),y=a(149),W=a(46),O=a.n(W),j=a(48),S=a(68),R=a(137),T=(a(96),Object(S.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1),color:"white"},submit:{margin:e.spacing(3,0,2)},credentials:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",color:"green"}}}))),A=function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),s=Object(E.a)(i,2),l=s[0],u=s[1],m=Object(n.useState)(!1),h=Object(E.a)(m,2),d=h[0],W=h[1],S=T();return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:S.paper},r.a.createElement(f.a,{className:S.avatar},r.a.createElement(O.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{className:S.form,noValidate:!0},r.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){c(e.target.value)},autoFocus:!0}),r.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){u(e.target.value)},autoComplete:"current-password"}),d?r.a.createElement("div",{className:S.credentials},"Wrong Credentials"):r.a.createElement("div",null),r.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"primary",className:S.submit,onClick:function(){fetch("https://calm-earth-15616.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:l})}).then((function(e){return e.json()})).then((function(t){"wrong credentials"!==t?(e.loadUserProfile(t),e.logIn(!0),W(!1),e.history.push("/profile")):W(!0)})).catch((function(e){return console.log(e)}))}},"Sign In"),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:!0}),r.a.createElement(w.a,{item:!0},r.a.createElement(p.b,{to:"/register",variant:"body2"},"Don't have an account? Register"))))),r.a.createElement(y.a,{mt:8}))},C=Object(S.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),N=function(e){var t=C(),a=Object(n.useState)(""),o=Object(E.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(""),l=Object(E.a)(s,2),u=l[0],m=l[1],h=Object(n.useState)(""),d=Object(E.a)(h,2),W=d[0],S=d[1],T=Object(n.useState)(""),A=Object(E.a)(T,2),N=A[0],_=A[1],F=Object(n.useState)(!0),x=Object(E.a)(F,2),k=x[0],L=x[1],U=Object(n.useState)(!1),P=Object(E.a)(U,2),D=P[0],I=P[1];return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(f.a,{className:t.avatar},r.a.createElement(O.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(b.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",onChange:function(e){S(e.target.value)},autoFocus:!0})),r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",onChange:function(e){_(e.target.value)},autoComplete:"lname"})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",type:"email",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:function(e){i(e.target.value)},autoComplete:"email",error:D})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){m(e.target.value)},autoComplete:"current-password",error:!k})),r.a.createElement(w.a,{item:!0,xs:12},k?r.a.createElement("div",null):r.a.createElement("div",{id:"message"},r.a.createElement("h3",null,"Password must contain the following:"),r.a.createElement("p",{id:"letter",className:"invalid"},"A ",r.a.createElement("b",null,"lowercase")," letter"),r.a.createElement("p",{id:"capital",className:"invalid"},"A ",r.a.createElement("b",null,"capital (uppercase)")," letter"),r.a.createElement("p",{id:"number",className:"invalid"},"A ",r.a.createElement("b",null,"number")),r.a.createElement("p",{id:"length",className:"invalid"},"Minimum ",r.a.createElement("b",null,"8 characters"))))),r.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){var t=W.length>0,a=N.length>0,n=u.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/),r=c.match(/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/);L(n),I(!r),t&&a&&n&&r&&fetch("https://calm-earth-15616.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:W,lastname:N,email:c,password:u})}).then((function(e){return e.json()})).then((function(t){t&&(e.loadUserProfile(t),e.logIn(!0),e.history.push("/profile"))}))}},"Register"),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(p.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(y.a,{mt:5}))},_=(a(99),a(100),a(142)),F=a(144),x=a(143),k=a(145),L=Object(S.a)({card:{maxWidth:350,flexGrow:1,backgroundColor:"white"},media:{width:"100px",height:"auto",paddingLeft:"20px"},tc:{textAlign:"center"},margin:{marginTop:"50px",marginBottom:"25px"},bt:{margin:"0px 50px 10px"}}),U=function(e){var t=e.city,a=e.country,o=e.description,c=e.icon,i=e.windSpeed,s=e.temp,l=e.humidity,u=e.foreCast,m=e.isLogin,h=e.saveWeather,p=e.deleteWeather,d=e.index,f=e.save,v=Object(n.useState)(!0),b=Object(E.a)(v,2),y=b[0],W=b[1],O=L(),S=u.map((function(e,t){return r.a.createElement(w.a,{className:"".concat(O.tc),key:t,item:!0,xs:2},r.a.createElement(j.a,{component:"p"},e.date),r.a.createElement("br",null),r.a.createElement(j.a,{component:"p"},e.maxTemp,"f"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,".png"),alt:"icon"}),r.a.createElement(j.a,{component:"p"},e.minTemp,"f"))})),R=!!(!y&&f||y&&!f);return r.a.createElement(_.a,{raised:!0,justify:"space-evenly",className:O.card},r.a.createElement(w.a,{container:!0,spacing:0},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(x.a,{title:"".concat(t,",").concat(a)})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(F.a,null,r.a.createElement("h4",null,o," ",r.a.createElement("span",null,"Wind ",i,"m/h ",r.a.createElement("span",null,"Huminity ",l))))),r.a.createElement(w.a,{item:!0,xs:6,sm:6},r.a.createElement(k.a,{component:"img",className:O.media,src:"http://openweathermap.org/img/wn/".concat(c,".png"),title:"Icon"})),r.a.createElement(w.a,{className:O.tc,item:!0,xs:6,sm:6},r.a.createElement("h2",null,s,"f")),r.a.createElement(w.a,{className:O.margin,item:!0,xs:12},r.a.createElement(w.a,{justify:"space-around",container:!0,spacing:0},S)),m?r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:6,sm:6},r.a.createElement(g.a,{className:O.bt,onClick:function(e){p(e)},value:"".concat(d,"-").concat(t,",").concat(a)},"Delete")),R?r.a.createElement(w.a,{item:!0,xs:6,sm:6},r.a.createElement(g.a,{className:O.bt,onClick:function(e){h(e),W(!1)},value:"".concat(t,",").concat(a)},"Save")):r.a.createElement(w.a,{item:!0,xs:6,sm:6})):r.a.createElement("div",null)))},P=(a(101),function(e){var t=e.weatherData,a=e.foreCastData,n=e.isLogin,o=e.saveWeatherProfile,c=e.deleteWeatherProfile,i=e.index,s=e.save,l=a.map((function(e){return e.dt_txt.split(/[ ]+/)[0]})).filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e){return a.filter((function(t){var a=t.dt_txt.split(/[ ]+/)[0];return e===a}))})).map((function(e){var t=1e5,a=-1e5,n="",r="";return e.forEach((function(e){if(Number(e.main.temp)<t&&(t=Math.ceil(e.main.temp)),Number(e.main.temp)>a){a=Math.ceil(e.main.temp);var o=new Date(e.dt_txt.split(/[ ]+/)[0])+"";n=o.split(/[ ]+/)[0],r=e.weather[0].icon}})),{maxTemp:a,minTemp:t,date:n,icon:r}}));return console.log("this is before",t),r.a.createElement("div",{className:"weather"},r.a.createElement(U,{city:t.name,country:t.sys.country,description:t.weather[0].main,icon:t.weather[0].icon,windSpeed:t.wind.speed,temp:t.main.temp,humidity:t.main.humidity,foreCast:l,isLogin:n,saveWeather:function(e){o(e)},deleteWeather:function(e){c(e)},index:i,save:s}))}),D=(a(102),function(){return r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Oooops. That is not good"):this.props.children}}]),t}(n.Component),q="640285b24dd4963e697ea5be67cf8165",H=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.searchField.toLowerCase().split(/[ ,]+/);if(console.log(e),2===e.length){var t=e[0],a=e[1];console.log("This is the app"),this.props.onRequestWeatherForecast("forecast",t,a),this.props.onRequestWeather("weather",t,a)}if(3===e.length){var n=e[0]+" "+e[1],r=e[2];this.props.onRequestWeatherForecast("forecast",n,r),this.props.onRequestWeather("weather",n,r)}}},{key:"render",value:function(){var e=this.props,t=e.weather,a=e.weatherForecast,n=e.isPendingWeather,o=e.isPendingWeatherForecast,c=e.isLogin;return r.a.createElement("div",null,r.a.createElement(I,null,n||o||200!==t.cod||"200"!==a.cod?r.a.createElement(D,null):r.a.createElement(P,{weatherData:t,foreCastData:a.list,isLogin:c})))}}]),t}(n.Component),Q=Object(h.b)((function(e){return{weather:e.requestWeather.weather,isPendingWeather:e.requestWeather.isPendingWeather,errorWeather:e.requestWeather.error,weatherForecast:e.requestWeatherForecast.weatherForecast,isPendingWeatherForecast:e.requestWeatherForecast.isPendingWeatherForecast,errorForecast:e.requestWeatherForecast.errorForecast,isLogin:e.userLogIn.bol}}),(function(e){return{onRequestWeather:function(t,a,n){return e(function(e,t,a){return function(n){n({type:"REQUEST_WEATHER_PENDING"}),fetch("https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/".concat(e,"?q=").concat(t,",").concat(a,"&appid=").concat(q,"&units=imperial")).then((function(e){return e.json()})).then((function(e){n({type:"REQUEST_WEATHER_SUCCESS",payload:e})})).catch((function(e){n({type:"REQUEST_WEATHER_FAILED",payload:e})}))}}(t,a,n))},onRequestWeatherForecast:function(t,a,n){return e(function(e,t,a){return function(n){n({type:"REQUEST_WEATHER_FORECAST_PENDING"}),fetch("https://cors-anywhere.herokuapp.com/https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/".concat(e,"?q=").concat(t,",").concat(a,"&appid=").concat(q,"&units=imperial")).then((function(e){return e.json()})).then((function(e){n({type:"REQUEST_WEATHER_FORECAST_SUCCESS",payload:e})})).catch((function(e){n({type:"REQUEST_WEATHER_FORECAST_FAILED",payload:e})}))}}(t,a,n))}}}))(H),G=(a(103),function(e){return r.a.createElement("div",{className:"background-wrap"},r.a.createElement("div",{className:"x1"},r.a.createElement("div",{className:"cloud"})),r.a.createElement("div",{className:"x2"},r.a.createElement("div",{className:"cloud"})),r.a.createElement("div",{className:"x3"},r.a.createElement("div",{className:"cloud"})),r.a.createElement("div",{className:"x4"},r.a.createElement("div",{className:"cloud"})),r.a.createElement("div",{className:"x5"},r.a.createElement("div",{className:"cloud"})))}),J=a(58),M=a(19),z=a(146),B=a(147),Z=a(152),$=a(70),V=a.n($),K=Object(S.a)((function(e){return{nav:{opacity:1,color:"white",background:"#00b4ff"},link:{color:"white",textDecoration:"none"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},search:Object(J.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(M.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(M.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(J.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200})}})),X=function(e){var t=e.onSearch,a=e.logIn,n=e.isLogin,o=K(),c=r.a.createElement("div",null,r.a.createElement(p.b,{className:o.link,to:"/login"},r.a.createElement(g.a,{color:"inherit"},"Login")),r.a.createElement(p.b,{className:o.link,to:"/register"},r.a.createElement(g.a,{color:"inherit"},"Register"))),i=r.a.createElement(p.b,{className:o.link,to:"/weather"},r.a.createElement(g.a,{onClick:function(){a(!1)},color:"inherit"},"LogOut"));return r.a.createElement("div",{className:o.root},r.a.createElement(z.a,{className:o.nav,position:"static"},r.a.createElement(B.a,null,r.a.createElement(j.a,{variant:"h6",className:o.title},n?r.a.createElement("div",null,"Weather App"):r.a.createElement(p.b,{className:o.link,to:"/weather"},"Weather App")),r.a.createElement("div",{className:o.search},r.a.createElement("div",{className:o.searchIcon},r.a.createElement(V.a,null)),r.a.createElement(Z.a,{placeholder:"City,Country",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"},onKeyDown:t})),n?i:c)))},Y=a(73),ee=function(e){var t=e.component,a=Object(Y.a)(e,["component"]);return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return a.isLogin?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/weather",state:{from:e.location}}})}}))},te=a(42),ae=a.n(te),ne=a(60),re=a(59),oe={allUserWeatherLoc:[],savedWeather:[]},ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).run=function(){var t=Object(re.a)(ae.a.mark((function t(a){var n,r,o,c;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("locs",a),n=0;case 2:if(!(n<a.length)){t.next=14;break}return t.next=5,e.getWeather(a[n]);case 5:(r=t.sent).push(a[n].save),o={weather:r[0],forecast:r[1],save:r[2]},(c=Object(ne.a)(e.state.allUserWeatherLoc)).push(o),e.setState({allUserWeatherLoc:c});case 11:n++,t.next=2;break;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getWeather=function(){var e=Object(re.a)(ae.a.mark((function e(t){var a,n,r,o,c,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="640285b24dd4963e697ea5be67cf8165",n=t.weatherlocation.toLowerCase().split(/[,]+/),r=n[0],o=n[1],c=["https://cors-anywhere.herokuapp.com/https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/weather?q=".concat(r,",").concat(o,"&appid=").concat(a,"&units=imperial"),"https://cors-anywhere.herokuapp.com/https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/forecast?q=".concat(r,",").concat(o,"&appid=").concat(a,"&units=imperial")],i=Promise.all(c.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(e){return e})).catch((function(e){return e})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.addToWeatherLoc=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(ne.a)(e.state.allUserWeatherLoc),n={weather:e.props.data[0],forecast:e.props.data[1],save:t};a.push(n),e.setState({allUserWeatherLoc:a})},e.saveWeatherProfile=function(t){var a=t.currentTarget.value.toLowerCase(),n=e.props.user.id;fetch("https://calm-earth-15616.herokuapp.com/profile/save",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,weatherLoc:a})}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){return console.log(e)}))},e.deleteWeatherProfile=function(t){var a=e.props.user.id,n=t.currentTarget.value.toLowerCase().split(/[-]+/),r=n[0],o=n[1];fetch("https://calm-earth-15616.herokuapp.com/profile/delete",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,weatherLoc:o})}).then((function(e){return e.json()})).then((function(t){var a=e.state.allUserWeatherLoc.filter((function(e,t){return t!==Number(r)}));e.setState({allUserWeatherLoc:a})})).catch((function(e){return console.log(e)}))},e.state=oe,e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.id;console.log("this is profile componentdidmount"),fetch("https://calm-earth-15616.herokuapp.com/profile",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(t){0===t.length?e.onRequestWeatherAndForecast("london","uk"):e.run(t)})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t){if(e.searchField!==this.props.searchField&&""!==this.props.searchField){var a=this.props.searchField.toLowerCase().split(/[ ,]+/);if(2===a.length){var n=a[0],r=a[1];this.props.onRequestWeatherAndForecast(n,r)}if(3===a.length){var o=a[0]+" "+a[1],c=a[2];this.props.onRequestWeatherAndForecast(o,c)}}console.log("Err data",this.props.data),this.props.data.length>0&&"200"===this.props.data[1].cod&&(0===e.data.length?this.addToWeatherLoc():e.data[0].name!==this.props.data[0].name&&this.addToWeatherLoc())}},{key:"render",value:function(){var e=this,t=this.state.allUserWeatherLoc.map((function(t,a){return r.a.createElement(w.a,{key:a,item:!0},r.a.createElement(P,{weatherData:t.weather,foreCastData:t.forecast.list,isLogin:e.props.isLogin,saveWeatherProfile:e.saveWeatherProfile,deleteWeatherProfile:e.deleteWeatherProfile,index:a,save:t.save}))}));return r.a.createElement("div",null,r.a.createElement(w.a,{container:!0,direction:"row-reverse",justify:"space-around",alignItems:"center",spacing:4},t))}}]),t}(n.Component),ie=Object(h.b)((function(e){return{searchField:e.searchWeather.searchField,user:e.loadUser.user,isLogin:e.userLogIn.bol,isPendingWeatherAndForecast:e.requestWeatherAndForecast.isPendingWeatherAndForecast,data:e.requestWeatherAndForecast.data}}),(function(e){return{onRequestWeatherAndForecast:function(t,a){return e(function(e,t){return function(a){console.log("request and weather ",e),console.log("country",t),a({type:"REQUEST_WEATHER_AND_FORECAST_PENDING"});var n=["https://cors-anywhere.herokuapp.com/https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/weather?q=".concat(e,",").concat(t,"&appid=").concat(q,"&units=imperial"),"https://cors-anywhere.herokuapp.com/https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/forecast?q=".concat(e,",").concat(t,"&appid=").concat(q,"&units=imperial")];Promise.all(n.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(e){console.log("results",e),a({type:"REQUEST_WEATHER_AND_FORECAST_SUCCESS",payload:e})})).catch((function(e){a({type:"REQUEST_WEATHER_AND_FORECAST_FAILED",payload:e})}))}}(t,a))}}}))(ce),se=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("yea this is the route")}},{key:"render",value:function(){var e=this.props,t=e.searchField,a=e.onSearch,n=e.loadUserProfile,o=e.logIn,c=e.user,i=e.isLogin,s=e.resetWeatherForeCastNav,l=e.resetWeatherNav;return r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(p.a,null,r.a.createElement(X,{onSearch:a,logIn:o,isLogin:i}),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/weather",exact:!0,component:function(e){return r.a.createElement(Q,{searchField:t||"london,uk"})}}),r.a.createElement(d.b,{path:"/register",exact:!0,component:function(e){return r.a.createElement(N,Object.assign({loadUserProfile:n,logIn:o},e))}}),r.a.createElement(d.b,{path:"/login",exact:!0,component:function(e){return r.a.createElement(A,Object.assign({loadUserProfile:n,logIn:o,resetWeatherIn:l,resetWeatherForeCastIn:s},e))}}),r.a.createElement(ee,{path:"/profile",exact:!0,component:ie,user:c,isLogin:i}))))}}]),t}(n.Component),le=Object(h.b)((function(e){return{searchField:e.searchWeather.searchField,user:e.loadUser.user,isLogin:e.userLogIn.bol}}),(function(e){return{onSearch:function(t){13!==t.keyCode&&13!==t.which||(e({type:"CHANGE_SEARCH_FIELD",payload:t.target.value}),t.target.value="")},loadUserProfile:function(t){e(function(e){return{type:"LOAD_USER",payload:e}}(t))},logIn:function(t){e(function(e){return{type:"USER_LOG_IN",payload:e}}(t))},resetWeatherNav:function(){return e({type:"REQUEST_WEATHER_RESET"})},resetWeatherForeCastNav:function(){return e({type:"REQUEST_WEATHER_FORECAST_RESET"})}}}))(se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(37),me={searchField:""},he={isPendingWeather:"false",weather:{},errorWeather:""},pe={isPendingWeatherForecast:"false",weatherForecast:{},errorForecast:""},de={isPendingWeatherAndForecast:"false",data:[],error:""},Ee={user:[]},fe={bol:!1},ge=a(71),ve=a(72),be=Object(ge.createLogger)(),we=Object(ue.c)({requestWeatherAndForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(console.log("this is",t.type),t.type){case"REQUEST_WEATHER_AND_FORECAST_PENDING":return Object.assign({},e,{isPendingWeatherAndForecast:!0});case"REQUEST_WEATHER_AND_FORECAST_SUCCESS":return Object.assign({},e,{data:t.payload,isPendingWeatherAndForecast:!1});case"REQUEST_WEATHER_AND_FORECAST_FAILED":return Object.assign({},e,{error:t.payload,isPendingWeatherAndForecast:!1});case"REQUEST_WEATHER_AND_FORECAST_RESET":return Object.assign({},e,{data:{}});default:return e}},searchWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_SEARCH_FIELD":return Object.assign({},e,{searchField:t.payload});default:return e}},requestWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_WEATHER_PENDING":return Object.assign({},e,{isPendingWeather:!0});case"REQUEST_WEATHER_SUCCESS":return Object.assign({},e,{weather:t.payload,isPendingWeather:!1});case"REQUEST_WEATHER_FAILED":return Object.assign({},e,{error:t.payload,isPendingWeather:!1});case"REQUEST_WEATHER_RESET":return Object.assign({},e,{weather:{}});default:return e}},requestWeatherForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_WEATHER_FORECAST_PENDING":return Object.assign({},e,{isPendingWeatherForecast:!0});case"REQUEST_WEATHER_FORECAST_SUCCESS":return Object.assign({},e,{weatherForecast:t.payload,isPendingWeatherForecast:!1});case"REQUEST_WEATHER_FORECAST_FAILED":return Object.assign({},e,{error:t.payload,isPendingWeatherForecast:!1});case"REQUEST_WEATHER_FORECAST_RESET":return Object.assign({},e,{weatherForecast:{}});default:return e}},loadUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(console.log("loaduser is this"),t.type){case"LOAD_USER":return Object.assign({},e,{user:t.payload});default:return e}},userLogIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_LOG_IN":return Object.assign({},e,{bol:t.payload});default:return e}}}),ye=Object(ue.d)(we,Object(ue.a)(ve.a,be));c.a.render(r.a.createElement(h.a,{store:ye},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,a){e.exports=a(105)},91:function(e,t,a){},96:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.0d25d8e6.chunk.js.map